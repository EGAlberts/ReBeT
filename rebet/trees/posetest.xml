<root BTCPP_format="4">
  <BehaviorTree ID="Untitled">
  	<Sequence>
			<Script code="pic_rate:=5; task_weight:=1.0; task_metric:=1.0 power_weight=1.0; power_metric:=1.0"/>
			<filterObstacles service_name="/map_server/map" obstacle_positions="{route_poses}"/>
			<initialPose topic_name="initialpose"/>
			<Repeat num_cycles="3">
				<Sequence>
					<RetryUntilSuccessful num_attempts="-1">
							<visitObs poses="{route_poses}"/>
					</RetryUntilSuccessful>
					<TaskEfficiencyQR weight="{task_weight}" objs_identified="{objects_detected}" metric="{task_metric}" mean_metric="{task_mean_metric}" >
					<AdaptPictureRate variable_parameters="{id_var_params}">
						<Repeat num_cycles="{pic_rate}">
							<Sequence>
									<RetryUntilSuccessful num_attempts="-1">
										<CameraFeed latest_image="{image_feed}" topic_name="/camera/image_raw"/>
									</RetryUntilSuccessful>
									<identifyObject in_camera_image="{image_feed}" objs_identified="{objects_detected}"/>
							</Sequence>
						</Repeat>
					</AdaptPictureRate>
					</TaskEfficiencyQR>
				</Sequence>
			</Repeat>
   	</Sequence>
  </BehaviorTree>
</root>
