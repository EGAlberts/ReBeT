<root BTCPP_format="4">
  <BehaviorTree ID="Untitled">
	<Sequence>
		<Script code="armed_choice:=true; mavros_mode:='GUIDED'"/>
		<ArmMotors armed_or_not="{armed_choice}" service_name="/mavros/cmd/arming"/>
		<SetMavrosMode desired_mode="{mavros_mode}" service_name="/mavros/set_mode"/>
		<RetryUntilSuccessful num_attempts="-1">
			<ConfirmMavrosState mode_to_confirm="{mavros_mode}" armed_to_confirm="{armed_choice}" topic_name="/mavros/state"/>
		</RetryUntilSuccessful>
		<AdaptSpiralAltitude adaptation_period="10" variable_parameters="{spi_var_params}" adaptation_strategy="ucb_strategy">
			<SpiralSearch/>
		</AdaptSpiralAltitude>
	</Sequence>
  </BehaviorTree>
</root>
